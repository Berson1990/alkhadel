function change_row_focus(a){$(prev_ctr).closest("tr").removeClass("row_focus"),$(a).addClass("row_focus")}function isCanRowfocus(a,b){var c=!0,d=$(prev_ctr).closest("tr");$(prev_ctr).closest("tr").next().length&&($(prev_ctr).closest("tr").index()==$(a).closest("tr").index()||$(".must",d).each(function(){$(this).attr("id").indexOf("cbo")>-1?0==$(this).val()&&(c=!1):$(this).hasClass("only_num")||$(this).hasClass("only_float")?0==$(this).val()&&(c=!1):0==$(this).val().length&&(c=!1)})),b(c)}var delayedFn,blurredFrom;$(document).ready(function(){prev_ctr=null,current_ctr=null,$("body").on("blur","#"+_gridview_ctrid+" tbody tr input",function(a){blurredFrom=$(this).closest("tr").index(),delayedFn=setTimeout(function(){},0)}),$("body").on("focus","#"+_gridview_ctrid+" tbody tr input",function(a){if(blurredFrom===$(this).closest("tr").index())change_row_focus($(this).closest("tr")),prev_ctr=$(this).closest("td").children()[0],clearTimeout(delayedFn);else if($(prev_ctr).closest("tr").index()==-1)prev_ctr=$(this).closest("td").children()[0],change_row_focus($(this).closest("tr")),clearTimeout(delayedFn),$(this).closest("td").children().length>1&&($(this).closest(".chosen-container").focus(),$(this).closest(".chosen-container").trigger("mousedown"));else{var b=$(this);isCanRowfocus($(this),function(a){1==a?(change_row_focus($(b).closest("tr")),prev_ctr=$(b).closest("td").children()[0],$(b).closest("td").children().length>1&&($(prev_ctr).removeClass("chosen-container-active"),$(prev_ctr).closest(".chosen-container").trigger("mousedown"))):($(b).closest("tr").removeClass("row_focus"),$(prev_ctr).closest("tr").addClass("row_focus"),$(prev_ctr).focus(),prev_ctr=$(prev_ctr).closest("td").children()[0])})}})});